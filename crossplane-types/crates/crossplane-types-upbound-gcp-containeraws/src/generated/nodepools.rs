// WARNING: generated by kopium - manual changes will be overwritten
// kopium version: 0.21.2

#[allow(unused_imports)]
mod prelude {
    pub use kube::CustomResource;
    pub use typed_builder::TypedBuilder;
    pub use schemars::JsonSchema;
    pub use serde::{Serialize, Deserialize};
    pub use std::collections::HashMap;
    pub use k8s_openapi::apimachinery::pkg::apis::meta::v1::Condition;
}
use self::prelude::*;

/// NodePoolSpec defines the desired state of NodePool
#[derive(CustomResource, Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
#[kube(group = "containeraws.gcp.upbound.io", version = "v1beta2", kind = "NodePool", plural = "nodepools")]
#[kube(status = "NodePoolStatus")]
pub struct NodePoolSpec {
    /// DeletionPolicy specifies what will happen to the underlying external
    /// when this managed resource is deleted - either "Delete" or "Orphan" the
    /// external resource.
    /// This field is planned to be deprecated in favor of the ManagementPolicies
    /// field in a future release. Currently, both could be set independently and
    /// non-default values would be honored if the feature flag is enabled.
    /// See the design doc for more information: https://github.com/crossplane/crossplane/blob/499895a25d1a1a0ba1604944ef98ac7a1a71f197/design/design-doc-observe-only-resources.md?plain=1#L223
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "deletionPolicy")]
    #[builder(default)]
    pub deletion_policy: Option<NodePoolDeletionPolicy>,
    #[serde(rename = "forProvider")]
    pub for_provider: NodePoolForProvider,
    /// THIS IS A BETA FIELD. It will be honored
    /// unless the Management Policies feature flag is disabled.
    /// InitProvider holds the same fields as ForProvider, with the exception
    /// of Identifier and other resource reference fields. The fields that are
    /// in InitProvider are merged into ForProvider when the resource is created.
    /// The same fields are also added to the terraform ignore_changes hook, to
    /// avoid updating them after creation. This is useful for fields that are
    /// required on creation, but we do not desire to update them after creation,
    /// for example because of an external controller is managing them, like an
    /// autoscaler.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "initProvider")]
    #[builder(default)]
    pub init_provider: Option<NodePoolInitProvider>,
    /// THIS IS A BETA FIELD. It is on by default but can be opted out
    /// through a Crossplane feature flag.
    /// ManagementPolicies specify the array of actions Crossplane is allowed to
    /// take on the managed and external resources.
    /// This field is planned to replace the DeletionPolicy field in a future
    /// release. Currently, both could be set independently and non-default
    /// values would be honored if the feature flag is enabled. If both are
    /// custom, the DeletionPolicy field will be ignored.
    /// See the design doc for more information: https://github.com/crossplane/crossplane/blob/499895a25d1a1a0ba1604944ef98ac7a1a71f197/design/design-doc-observe-only-resources.md?plain=1#L223
    /// and this one: https://github.com/crossplane/crossplane/blob/444267e84783136daa93568b364a5f01228cacbe/design/one-pager-ignore-changes.md
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "managementPolicies")]
    #[builder(default)]
    pub management_policies: Option<Vec<String>>,
    /// ProviderConfigReference specifies how the provider that will be used to
    /// create, observe, update, and delete this managed resource should be
    /// configured.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "providerConfigRef")]
    #[builder(default)]
    pub provider_config_ref: Option<NodePoolProviderConfigRef>,
    /// PublishConnectionDetailsTo specifies the connection secret config which
    /// contains a name, metadata and a reference to secret store config to
    /// which any connection details for this managed resource should be written.
    /// Connection details frequently include the endpoint, username,
    /// and password required to connect to the managed resource.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "publishConnectionDetailsTo")]
    #[builder(default)]
    pub publish_connection_details_to: Option<NodePoolPublishConnectionDetailsTo>,
    /// WriteConnectionSecretToReference specifies the namespace and name of a
    /// Secret to which any connection details for this managed resource should
    /// be written. Connection details frequently include the endpoint, username,
    /// and password required to connect to the managed resource.
    /// This field is planned to be replaced in a future release in favor of
    /// PublishConnectionDetailsTo. Currently, both could be set independently
    /// and connection details would be published to both without affecting
    /// each other.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "writeConnectionSecretToRef")]
    #[builder(default)]
    pub write_connection_secret_to_ref: Option<NodePoolWriteConnectionSecretToRef>,
}

/// NodePoolSpec defines the desired state of NodePool
#[derive(Serialize, Deserialize, Clone, Debug, JsonSchema)]
pub enum NodePoolDeletionPolicy {
    Orphan,
    Delete,
}

#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolForProvider {
    /// Optional. Annotations on the node pool. This field has the same restrictions as Kubernetes annotations. The total size of all keys and values combined is limited to 256k. Key can have 2 segments: prefix  and name , separated by a slash (/). Prefix must be a DNS subdomain. Name must be 63 characters or less, begin and end with alphanumerics, with dashes (-), underscores (_), dots (.), and alphanumerics between.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub annotations: Option<HashMap<String, String>>,
    /// Autoscaler configuration for this node pool.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub autoscaling: Option<NodePoolForProviderAutoscaling>,
    /// The awsCluster for the resource
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub cluster: Option<String>,
    /// Reference to a Cluster in containeraws to populate cluster.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "clusterRef")]
    #[builder(default)]
    pub cluster_ref: Option<NodePoolForProviderClusterRef>,
    /// Selector for a Cluster in containeraws to populate cluster.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "clusterSelector")]
    #[builder(default)]
    pub cluster_selector: Option<NodePoolForProviderClusterSelector>,
    /// The configuration of the node pool.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub config: Option<NodePoolForProviderConfig>,
    /// The location for the resource
    pub location: String,
    /// The Management configuration for this node pool.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub management: Option<NodePoolForProviderManagement>,
    /// The constraint on the maximum number of pods that can be run simultaneously on a node in the node pool.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "maxPodsConstraint")]
    #[builder(default)]
    pub max_pods_constraint: Option<NodePoolForProviderMaxPodsConstraint>,
    /// The project for the resource
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub project: Option<String>,
    /// The subnet where the node pool node run.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "subnetId")]
    #[builder(default)]
    pub subnet_id: Option<String>,
    /// Optional. Update settings control the speed and disruption of the node pool update.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "updateSettings")]
    #[builder(default)]
    pub update_settings: Option<NodePoolForProviderUpdateSettings>,
    /// The Kubernetes version to run on this node pool (e.g. 1.19.10-gke.1000). You can list all supported versions on a given Google Cloud region by calling GetAwsServerConfig.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub version: Option<String>,
}

/// Autoscaler configuration for this node pool.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolForProviderAutoscaling {
    /// Maximum number of nodes in the NodePool. Must be >= min_node_count.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "maxNodeCount")]
    #[builder(default)]
    pub max_node_count: Option<f64>,
    /// Minimum number of nodes in the NodePool. Must be >= 1 and <= max_node_count.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "minNodeCount")]
    #[builder(default)]
    pub min_node_count: Option<f64>,
}

/// Reference to a Cluster in containeraws to populate cluster.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolForProviderClusterRef {
    /// Name of the referenced object.
    pub name: String,
    /// Policies for referencing.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub policy: Option<NodePoolForProviderClusterRefPolicy>,
}

/// Policies for referencing.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolForProviderClusterRefPolicy {
    /// Resolution specifies whether resolution of this reference is required.
    /// The default is 'Required', which means the reconcile will fail if the
    /// reference cannot be resolved. 'Optional' means this reference will be
    /// a no-op if it cannot be resolved.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub resolution: Option<NodePoolForProviderClusterRefPolicyResolution>,
    /// Resolve specifies when this reference should be resolved. The default
    /// is 'IfNotPresent', which will attempt to resolve the reference only when
    /// the corresponding field is not present. Use 'Always' to resolve the
    /// reference on every reconcile.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub resolve: Option<NodePoolForProviderClusterRefPolicyResolve>,
}

/// Policies for referencing.
#[derive(Serialize, Deserialize, Clone, Debug, JsonSchema)]
pub enum NodePoolForProviderClusterRefPolicyResolution {
    Required,
    Optional,
}

/// Policies for referencing.
#[derive(Serialize, Deserialize, Clone, Debug, JsonSchema)]
pub enum NodePoolForProviderClusterRefPolicyResolve {
    Always,
    IfNotPresent,
}

/// Selector for a Cluster in containeraws to populate cluster.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolForProviderClusterSelector {
    /// MatchControllerRef ensures an object with the same controller reference
    /// as the selecting object is selected.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "matchControllerRef")]
    #[builder(default)]
    pub match_controller_ref: Option<bool>,
    /// MatchLabels ensures an object with matching labels is selected.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "matchLabels")]
    #[builder(default)]
    pub match_labels: Option<HashMap<String, String>>,
    /// Policies for selection.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub policy: Option<NodePoolForProviderClusterSelectorPolicy>,
}

/// Policies for selection.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolForProviderClusterSelectorPolicy {
    /// Resolution specifies whether resolution of this reference is required.
    /// The default is 'Required', which means the reconcile will fail if the
    /// reference cannot be resolved. 'Optional' means this reference will be
    /// a no-op if it cannot be resolved.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub resolution: Option<NodePoolForProviderClusterSelectorPolicyResolution>,
    /// Resolve specifies when this reference should be resolved. The default
    /// is 'IfNotPresent', which will attempt to resolve the reference only when
    /// the corresponding field is not present. Use 'Always' to resolve the
    /// reference on every reconcile.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub resolve: Option<NodePoolForProviderClusterSelectorPolicyResolve>,
}

/// Policies for selection.
#[derive(Serialize, Deserialize, Clone, Debug, JsonSchema)]
pub enum NodePoolForProviderClusterSelectorPolicyResolution {
    Required,
    Optional,
}

/// Policies for selection.
#[derive(Serialize, Deserialize, Clone, Debug, JsonSchema)]
pub enum NodePoolForProviderClusterSelectorPolicyResolve {
    Always,
    IfNotPresent,
}

/// The configuration of the node pool.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolForProviderConfig {
    /// Optional. Configuration related to CloudWatch metrics collection on the Auto Scaling group of the node pool. When unspecified, metrics collection is disabled.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "autoscalingMetricsCollection")]
    #[builder(default)]
    pub autoscaling_metrics_collection: Option<NodePoolForProviderConfigAutoscalingMetricsCollection>,
    /// The ARN of the AWS KMS key used to encrypt node pool configuration.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "configEncryption")]
    #[builder(default)]
    pub config_encryption: Option<NodePoolForProviderConfigConfigEncryption>,
    /// The name of the AWS IAM role assigned to nodes in the pool.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "iamInstanceProfile")]
    #[builder(default)]
    pub iam_instance_profile: Option<String>,
    /// Optional. The AWS instance type. When unspecified, it defaults to m5.large.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "instanceType")]
    #[builder(default)]
    pub instance_type: Option<String>,
    /// Optional. The initial labels assigned to nodes of this node pool. An object containing a list of "key": value pairs. Example: { "name": "wrench", "mass": "1.3kg", "count": "3" }.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub labels: Option<HashMap<String, String>>,
    /// Proxy configuration for outbound HTTP(S) traffic.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "proxyConfig")]
    #[builder(default)]
    pub proxy_config: Option<NodePoolForProviderConfigProxyConfig>,
    /// Optional. Template for the root volume provisioned for node pool nodes. Volumes will be provisioned in the availability zone assigned to the node pool subnet. When unspecified, it defaults to 32 GiB with the GP2 volume type.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "rootVolume")]
    #[builder(default)]
    pub root_volume: Option<NodePoolForProviderConfigRootVolume>,
    /// Optional. The IDs of additional security groups to add to nodes in this pool. The manager will automatically create security groups with minimum rules needed for a functioning cluster.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "securityGroupIds")]
    #[builder(default)]
    pub security_group_ids: Option<Vec<String>>,
    /// Optional. The SSH configuration.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "sshConfig")]
    #[builder(default)]
    pub ssh_config: Option<NodePoolForProviderConfigSshConfig>,
    /// Optional. Key/value metadata to assign to each underlying AWS resource. Specify at most 50 pairs containing alphanumerics, spaces, and symbols (.+-=_:@/). Keys can be up to 127 Unicode characters. Values can be up to 255 Unicode characters.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub tags: Option<HashMap<String, String>>,
    /// Optional. The initial taints assigned to nodes of this node pool.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub taints: Option<Vec<NodePoolForProviderConfigTaints>>,
}

/// Optional. Configuration related to CloudWatch metrics collection on the Auto Scaling group of the node pool. When unspecified, metrics collection is disabled.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolForProviderConfigAutoscalingMetricsCollection {
    /// The frequency at which EC2 Auto Scaling sends aggregated data to AWS CloudWatch. The only valid value is "1Minute".
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub granularity: Option<String>,
    /// The metrics to enable. For a list of valid metrics, see https://docs.aws.amazon.com/autoscaling/ec2/APIReference/API_EnableMetricsCollection.html. If you specify granularity and don't specify any metrics, all metrics are enabled.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub metrics: Option<Vec<String>>,
}

/// The ARN of the AWS KMS key used to encrypt node pool configuration.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolForProviderConfigConfigEncryption {
    /// Optional. The Amazon Resource Name (ARN) of the Customer Managed Key (CMK) used to encrypt AWS EBS volumes. If not specified, the default Amazon managed key associated to the AWS region where this cluster runs will be used.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "kmsKeyArn")]
    #[builder(default)]
    pub kms_key_arn: Option<String>,
}

/// Proxy configuration for outbound HTTP(S) traffic.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolForProviderConfigProxyConfig {
    /// The ARN of the AWS Secret Manager secret that contains the HTTP(S) proxy configuration.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "secretArn")]
    #[builder(default)]
    pub secret_arn: Option<String>,
    /// The version string of the AWS Secret Manager secret that contains the HTTP(S) proxy configuration.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "secretVersion")]
    #[builder(default)]
    pub secret_version: Option<String>,
}

/// Optional. Template for the root volume provisioned for node pool nodes. Volumes will be provisioned in the availability zone assigned to the node pool subnet. When unspecified, it defaults to 32 GiB with the GP2 volume type.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolForProviderConfigRootVolume {
    /// Optional. The number of I/O operations per second (IOPS) to provision for GP3 volume.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub iops: Option<f64>,
    /// Optional. The Amazon Resource Name (ARN) of the Customer Managed Key (CMK) used to encrypt AWS EBS volumes. If not specified, the default Amazon managed key associated to the AWS region where this cluster runs will be used.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "kmsKeyArn")]
    #[builder(default)]
    pub kms_key_arn: Option<String>,
    /// Optional. The size of the volume, in GiBs. When unspecified, a default value is provided. See the specific reference in the parent resource.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "sizeGib")]
    #[builder(default)]
    pub size_gib: Option<f64>,
    /// Optional. The throughput to provision for the volume, in MiB/s. Only valid if the volume type is GP3. If volume type is gp3 and throughput is not specified, the throughput will defaults to 125.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub throughput: Option<f64>,
    /// Optional. Type of the EBS volume. When unspecified, it defaults to GP2 volume. Possible values: VOLUME_TYPE_UNSPECIFIED, GP2, GP3
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "volumeType")]
    #[builder(default)]
    pub volume_type: Option<String>,
}

/// Optional. The SSH configuration.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolForProviderConfigSshConfig {
    /// The name of the EC2 key pair used to login into cluster machines.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "ec2KeyPair")]
    #[builder(default)]
    pub ec2_key_pair: Option<String>,
}

#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolForProviderConfigTaints {
    /// The taint effect. Possible values: EFFECT_UNSPECIFIED, NO_SCHEDULE, PREFER_NO_SCHEDULE, NO_EXECUTE
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub effect: Option<String>,
    /// Key for the taint.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub key: Option<String>,
    /// Value for the taint.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub value: Option<String>,
}

/// The Management configuration for this node pool.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolForProviderManagement {
    /// Optional. Whether or not the nodes will be automatically repaired.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "autoRepair")]
    #[builder(default)]
    pub auto_repair: Option<bool>,
}

/// The constraint on the maximum number of pods that can be run simultaneously on a node in the node pool.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolForProviderMaxPodsConstraint {
    /// The maximum number of pods to schedule on a single node.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "maxPodsPerNode")]
    #[builder(default)]
    pub max_pods_per_node: Option<f64>,
}

/// Optional. Update settings control the speed and disruption of the node pool update.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolForProviderUpdateSettings {
    /// Optional. Settings for surge update.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "surgeSettings")]
    #[builder(default)]
    pub surge_settings: Option<NodePoolForProviderUpdateSettingsSurgeSettings>,
}

/// Optional. Settings for surge update.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolForProviderUpdateSettingsSurgeSettings {
    /// Optional. The maximum number of nodes that can be created beyond the current size of the node pool during the update process.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "maxSurge")]
    #[builder(default)]
    pub max_surge: Option<f64>,
    /// Optional. The maximum number of nodes that can be simultaneously unavailable during the update process. A node is considered unavailable if its status is not Ready.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "maxUnavailable")]
    #[builder(default)]
    pub max_unavailable: Option<f64>,
}

/// THIS IS A BETA FIELD. It will be honored
/// unless the Management Policies feature flag is disabled.
/// InitProvider holds the same fields as ForProvider, with the exception
/// of Identifier and other resource reference fields. The fields that are
/// in InitProvider are merged into ForProvider when the resource is created.
/// The same fields are also added to the terraform ignore_changes hook, to
/// avoid updating them after creation. This is useful for fields that are
/// required on creation, but we do not desire to update them after creation,
/// for example because of an external controller is managing them, like an
/// autoscaler.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolInitProvider {
    /// Optional. Annotations on the node pool. This field has the same restrictions as Kubernetes annotations. The total size of all keys and values combined is limited to 256k. Key can have 2 segments: prefix  and name , separated by a slash (/). Prefix must be a DNS subdomain. Name must be 63 characters or less, begin and end with alphanumerics, with dashes (-), underscores (_), dots (.), and alphanumerics between.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub annotations: Option<HashMap<String, String>>,
    /// Autoscaler configuration for this node pool.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub autoscaling: Option<NodePoolInitProviderAutoscaling>,
    /// The configuration of the node pool.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub config: Option<NodePoolInitProviderConfig>,
    /// The Management configuration for this node pool.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub management: Option<NodePoolInitProviderManagement>,
    /// The constraint on the maximum number of pods that can be run simultaneously on a node in the node pool.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "maxPodsConstraint")]
    #[builder(default)]
    pub max_pods_constraint: Option<NodePoolInitProviderMaxPodsConstraint>,
    /// The project for the resource
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub project: Option<String>,
    /// The subnet where the node pool node run.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "subnetId")]
    #[builder(default)]
    pub subnet_id: Option<String>,
    /// Optional. Update settings control the speed and disruption of the node pool update.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "updateSettings")]
    #[builder(default)]
    pub update_settings: Option<NodePoolInitProviderUpdateSettings>,
    /// The Kubernetes version to run on this node pool (e.g. 1.19.10-gke.1000). You can list all supported versions on a given Google Cloud region by calling GetAwsServerConfig.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub version: Option<String>,
}

/// Autoscaler configuration for this node pool.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolInitProviderAutoscaling {
    /// Maximum number of nodes in the NodePool. Must be >= min_node_count.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "maxNodeCount")]
    #[builder(default)]
    pub max_node_count: Option<f64>,
    /// Minimum number of nodes in the NodePool. Must be >= 1 and <= max_node_count.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "minNodeCount")]
    #[builder(default)]
    pub min_node_count: Option<f64>,
}

/// The configuration of the node pool.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolInitProviderConfig {
    /// Optional. Configuration related to CloudWatch metrics collection on the Auto Scaling group of the node pool. When unspecified, metrics collection is disabled.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "autoscalingMetricsCollection")]
    #[builder(default)]
    pub autoscaling_metrics_collection: Option<NodePoolInitProviderConfigAutoscalingMetricsCollection>,
    /// The ARN of the AWS KMS key used to encrypt node pool configuration.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "configEncryption")]
    #[builder(default)]
    pub config_encryption: Option<NodePoolInitProviderConfigConfigEncryption>,
    /// The name of the AWS IAM role assigned to nodes in the pool.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "iamInstanceProfile")]
    #[builder(default)]
    pub iam_instance_profile: Option<String>,
    /// Optional. The AWS instance type. When unspecified, it defaults to m5.large.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "instanceType")]
    #[builder(default)]
    pub instance_type: Option<String>,
    /// Optional. The initial labels assigned to nodes of this node pool. An object containing a list of "key": value pairs. Example: { "name": "wrench", "mass": "1.3kg", "count": "3" }.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub labels: Option<HashMap<String, String>>,
    /// Proxy configuration for outbound HTTP(S) traffic.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "proxyConfig")]
    #[builder(default)]
    pub proxy_config: Option<NodePoolInitProviderConfigProxyConfig>,
    /// Optional. Template for the root volume provisioned for node pool nodes. Volumes will be provisioned in the availability zone assigned to the node pool subnet. When unspecified, it defaults to 32 GiB with the GP2 volume type.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "rootVolume")]
    #[builder(default)]
    pub root_volume: Option<NodePoolInitProviderConfigRootVolume>,
    /// Optional. The IDs of additional security groups to add to nodes in this pool. The manager will automatically create security groups with minimum rules needed for a functioning cluster.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "securityGroupIds")]
    #[builder(default)]
    pub security_group_ids: Option<Vec<String>>,
    /// Optional. The SSH configuration.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "sshConfig")]
    #[builder(default)]
    pub ssh_config: Option<NodePoolInitProviderConfigSshConfig>,
    /// Optional. Key/value metadata to assign to each underlying AWS resource. Specify at most 50 pairs containing alphanumerics, spaces, and symbols (.+-=_:@/). Keys can be up to 127 Unicode characters. Values can be up to 255 Unicode characters.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub tags: Option<HashMap<String, String>>,
    /// Optional. The initial taints assigned to nodes of this node pool.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub taints: Option<Vec<NodePoolInitProviderConfigTaints>>,
}

/// Optional. Configuration related to CloudWatch metrics collection on the Auto Scaling group of the node pool. When unspecified, metrics collection is disabled.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolInitProviderConfigAutoscalingMetricsCollection {
    /// The frequency at which EC2 Auto Scaling sends aggregated data to AWS CloudWatch. The only valid value is "1Minute".
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub granularity: Option<String>,
    /// The metrics to enable. For a list of valid metrics, see https://docs.aws.amazon.com/autoscaling/ec2/APIReference/API_EnableMetricsCollection.html. If you specify granularity and don't specify any metrics, all metrics are enabled.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub metrics: Option<Vec<String>>,
}

/// The ARN of the AWS KMS key used to encrypt node pool configuration.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolInitProviderConfigConfigEncryption {
    /// Optional. The Amazon Resource Name (ARN) of the Customer Managed Key (CMK) used to encrypt AWS EBS volumes. If not specified, the default Amazon managed key associated to the AWS region where this cluster runs will be used.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "kmsKeyArn")]
    #[builder(default)]
    pub kms_key_arn: Option<String>,
}

/// Proxy configuration for outbound HTTP(S) traffic.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolInitProviderConfigProxyConfig {
    /// The ARN of the AWS Secret Manager secret that contains the HTTP(S) proxy configuration.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "secretArn")]
    #[builder(default)]
    pub secret_arn: Option<String>,
    /// The version string of the AWS Secret Manager secret that contains the HTTP(S) proxy configuration.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "secretVersion")]
    #[builder(default)]
    pub secret_version: Option<String>,
}

/// Optional. Template for the root volume provisioned for node pool nodes. Volumes will be provisioned in the availability zone assigned to the node pool subnet. When unspecified, it defaults to 32 GiB with the GP2 volume type.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolInitProviderConfigRootVolume {
    /// Optional. The number of I/O operations per second (IOPS) to provision for GP3 volume.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub iops: Option<f64>,
    /// Optional. The Amazon Resource Name (ARN) of the Customer Managed Key (CMK) used to encrypt AWS EBS volumes. If not specified, the default Amazon managed key associated to the AWS region where this cluster runs will be used.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "kmsKeyArn")]
    #[builder(default)]
    pub kms_key_arn: Option<String>,
    /// Optional. The size of the volume, in GiBs. When unspecified, a default value is provided. See the specific reference in the parent resource.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "sizeGib")]
    #[builder(default)]
    pub size_gib: Option<f64>,
    /// Optional. The throughput to provision for the volume, in MiB/s. Only valid if the volume type is GP3. If volume type is gp3 and throughput is not specified, the throughput will defaults to 125.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub throughput: Option<f64>,
    /// Optional. Type of the EBS volume. When unspecified, it defaults to GP2 volume. Possible values: VOLUME_TYPE_UNSPECIFIED, GP2, GP3
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "volumeType")]
    #[builder(default)]
    pub volume_type: Option<String>,
}

/// Optional. The SSH configuration.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolInitProviderConfigSshConfig {
    /// The name of the EC2 key pair used to login into cluster machines.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "ec2KeyPair")]
    #[builder(default)]
    pub ec2_key_pair: Option<String>,
}

#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolInitProviderConfigTaints {
    /// The taint effect. Possible values: EFFECT_UNSPECIFIED, NO_SCHEDULE, PREFER_NO_SCHEDULE, NO_EXECUTE
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub effect: Option<String>,
    /// Key for the taint.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub key: Option<String>,
    /// Value for the taint.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub value: Option<String>,
}

/// The Management configuration for this node pool.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolInitProviderManagement {
    /// Optional. Whether or not the nodes will be automatically repaired.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "autoRepair")]
    #[builder(default)]
    pub auto_repair: Option<bool>,
}

/// The constraint on the maximum number of pods that can be run simultaneously on a node in the node pool.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolInitProviderMaxPodsConstraint {
    /// The maximum number of pods to schedule on a single node.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "maxPodsPerNode")]
    #[builder(default)]
    pub max_pods_per_node: Option<f64>,
}

/// Optional. Update settings control the speed and disruption of the node pool update.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolInitProviderUpdateSettings {
    /// Optional. Settings for surge update.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "surgeSettings")]
    #[builder(default)]
    pub surge_settings: Option<NodePoolInitProviderUpdateSettingsSurgeSettings>,
}

/// Optional. Settings for surge update.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolInitProviderUpdateSettingsSurgeSettings {
    /// Optional. The maximum number of nodes that can be created beyond the current size of the node pool during the update process.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "maxSurge")]
    #[builder(default)]
    pub max_surge: Option<f64>,
    /// Optional. The maximum number of nodes that can be simultaneously unavailable during the update process. A node is considered unavailable if its status is not Ready.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "maxUnavailable")]
    #[builder(default)]
    pub max_unavailable: Option<f64>,
}

/// ProviderConfigReference specifies how the provider that will be used to
/// create, observe, update, and delete this managed resource should be
/// configured.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolProviderConfigRef {
    /// Name of the referenced object.
    pub name: String,
    /// Policies for referencing.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub policy: Option<NodePoolProviderConfigRefPolicy>,
}

/// Policies for referencing.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolProviderConfigRefPolicy {
    /// Resolution specifies whether resolution of this reference is required.
    /// The default is 'Required', which means the reconcile will fail if the
    /// reference cannot be resolved. 'Optional' means this reference will be
    /// a no-op if it cannot be resolved.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub resolution: Option<NodePoolProviderConfigRefPolicyResolution>,
    /// Resolve specifies when this reference should be resolved. The default
    /// is 'IfNotPresent', which will attempt to resolve the reference only when
    /// the corresponding field is not present. Use 'Always' to resolve the
    /// reference on every reconcile.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub resolve: Option<NodePoolProviderConfigRefPolicyResolve>,
}

/// Policies for referencing.
#[derive(Serialize, Deserialize, Clone, Debug, JsonSchema)]
pub enum NodePoolProviderConfigRefPolicyResolution {
    Required,
    Optional,
}

/// Policies for referencing.
#[derive(Serialize, Deserialize, Clone, Debug, JsonSchema)]
pub enum NodePoolProviderConfigRefPolicyResolve {
    Always,
    IfNotPresent,
}

/// PublishConnectionDetailsTo specifies the connection secret config which
/// contains a name, metadata and a reference to secret store config to
/// which any connection details for this managed resource should be written.
/// Connection details frequently include the endpoint, username,
/// and password required to connect to the managed resource.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolPublishConnectionDetailsTo {
    /// SecretStoreConfigRef specifies which secret store config should be used
    /// for this ConnectionSecret.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "configRef")]
    #[builder(default)]
    pub config_ref: Option<NodePoolPublishConnectionDetailsToConfigRef>,
    /// Metadata is the metadata for connection secret.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub metadata: Option<NodePoolPublishConnectionDetailsToMetadata>,
    /// Name is the name of the connection secret.
    pub name: String,
}

/// SecretStoreConfigRef specifies which secret store config should be used
/// for this ConnectionSecret.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolPublishConnectionDetailsToConfigRef {
    /// Name of the referenced object.
    pub name: String,
    /// Policies for referencing.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub policy: Option<NodePoolPublishConnectionDetailsToConfigRefPolicy>,
}

/// Policies for referencing.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolPublishConnectionDetailsToConfigRefPolicy {
    /// Resolution specifies whether resolution of this reference is required.
    /// The default is 'Required', which means the reconcile will fail if the
    /// reference cannot be resolved. 'Optional' means this reference will be
    /// a no-op if it cannot be resolved.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub resolution: Option<NodePoolPublishConnectionDetailsToConfigRefPolicyResolution>,
    /// Resolve specifies when this reference should be resolved. The default
    /// is 'IfNotPresent', which will attempt to resolve the reference only when
    /// the corresponding field is not present. Use 'Always' to resolve the
    /// reference on every reconcile.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub resolve: Option<NodePoolPublishConnectionDetailsToConfigRefPolicyResolve>,
}

/// Policies for referencing.
#[derive(Serialize, Deserialize, Clone, Debug, JsonSchema)]
pub enum NodePoolPublishConnectionDetailsToConfigRefPolicyResolution {
    Required,
    Optional,
}

/// Policies for referencing.
#[derive(Serialize, Deserialize, Clone, Debug, JsonSchema)]
pub enum NodePoolPublishConnectionDetailsToConfigRefPolicyResolve {
    Always,
    IfNotPresent,
}

/// Metadata is the metadata for connection secret.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolPublishConnectionDetailsToMetadata {
    /// Annotations are the annotations to be added to connection secret.
    /// - For Kubernetes secrets, this will be used as "metadata.annotations".
    /// - It is up to Secret Store implementation for others store types.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub annotations: Option<HashMap<String, String>>,
    /// Labels are the labels/tags to be added to connection secret.
    /// - For Kubernetes secrets, this will be used as "metadata.labels".
    /// - It is up to Secret Store implementation for others store types.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub labels: Option<HashMap<String, String>>,
    /// Type is the SecretType for the connection secret.
    /// - Only valid for Kubernetes Secret Stores.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "type")]
    #[builder(default)]
    pub r#type: Option<String>,
}

/// WriteConnectionSecretToReference specifies the namespace and name of a
/// Secret to which any connection details for this managed resource should
/// be written. Connection details frequently include the endpoint, username,
/// and password required to connect to the managed resource.
/// This field is planned to be replaced in a future release in favor of
/// PublishConnectionDetailsTo. Currently, both could be set independently
/// and connection details would be published to both without affecting
/// each other.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolWriteConnectionSecretToRef {
    /// Name of the secret.
    pub name: String,
    /// Namespace of the secret.
    pub namespace: String,
}

/// NodePoolStatus defines the observed state of NodePool.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolStatus {
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "atProvider")]
    #[builder(default)]
    pub at_provider: Option<NodePoolStatusAtProvider>,
    /// Conditions of the resource.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub conditions: Option<Vec<Condition>>,
    /// ObservedGeneration is the latest metadata.generation
    /// which resulted in either a ready state, or stalled due to error
    /// it can not recover from without human intervention.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "observedGeneration")]
    #[builder(default)]
    pub observed_generation: Option<i64>,
}

#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolStatusAtProvider {
    /// Optional. Annotations on the node pool. This field has the same restrictions as Kubernetes annotations. The total size of all keys and values combined is limited to 256k. Key can have 2 segments: prefix  and name , separated by a slash (/). Prefix must be a DNS subdomain. Name must be 63 characters or less, begin and end with alphanumerics, with dashes (-), underscores (_), dots (.), and alphanumerics between.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub annotations: Option<HashMap<String, String>>,
    /// Autoscaler configuration for this node pool.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub autoscaling: Option<NodePoolStatusAtProviderAutoscaling>,
    /// The awsCluster for the resource
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub cluster: Option<String>,
    /// The configuration of the node pool.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub config: Option<NodePoolStatusAtProviderConfig>,
    /// Output only. The time at which this node pool was created.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "createTime")]
    #[builder(default)]
    pub create_time: Option<String>,
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "effectiveAnnotations")]
    #[builder(default)]
    pub effective_annotations: Option<HashMap<String, String>>,
    /// Allows clients to perform consistent read-modify-writes through optimistic concurrency control. May be sent on update and delete requests to ensure the client has an up-to-date value before proceeding.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub etag: Option<String>,
    /// an identifier for the resource with format projects/{{project}}/locations/{{location}}/awsClusters/{{cluster}}/awsNodePools/{{name}}
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub id: Option<String>,
    /// The location for the resource
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub location: Option<String>,
    /// The Management configuration for this node pool.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub management: Option<NodePoolStatusAtProviderManagement>,
    /// The constraint on the maximum number of pods that can be run simultaneously on a node in the node pool.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "maxPodsConstraint")]
    #[builder(default)]
    pub max_pods_constraint: Option<NodePoolStatusAtProviderMaxPodsConstraint>,
    /// The project for the resource
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub project: Option<String>,
    /// Output only. If set, there are currently changes in flight to the node pool.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub reconciling: Option<bool>,
    /// Output only. The lifecycle state of the node pool. Possible values: STATE_UNSPECIFIED, PROVISIONING, RUNNING, RECONCILING, STOPPING, ERROR, DEGRADED
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub state: Option<String>,
    /// The subnet where the node pool node run.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "subnetId")]
    #[builder(default)]
    pub subnet_id: Option<String>,
    /// Output only. A globally unique identifier for the node pool.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub uid: Option<String>,
    /// Optional. Update settings control the speed and disruption of the node pool update.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "updateSettings")]
    #[builder(default)]
    pub update_settings: Option<NodePoolStatusAtProviderUpdateSettings>,
    /// Output only. The time at which this node pool was last updated.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "updateTime")]
    #[builder(default)]
    pub update_time: Option<String>,
    /// The Kubernetes version to run on this node pool (e.g. 1.19.10-gke.1000). You can list all supported versions on a given Google Cloud region by calling GetAwsServerConfig.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub version: Option<String>,
}

/// Autoscaler configuration for this node pool.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolStatusAtProviderAutoscaling {
    /// Maximum number of nodes in the NodePool. Must be >= min_node_count.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "maxNodeCount")]
    #[builder(default)]
    pub max_node_count: Option<f64>,
    /// Minimum number of nodes in the NodePool. Must be >= 1 and <= max_node_count.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "minNodeCount")]
    #[builder(default)]
    pub min_node_count: Option<f64>,
}

/// The configuration of the node pool.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolStatusAtProviderConfig {
    /// Optional. Configuration related to CloudWatch metrics collection on the Auto Scaling group of the node pool. When unspecified, metrics collection is disabled.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "autoscalingMetricsCollection")]
    #[builder(default)]
    pub autoscaling_metrics_collection: Option<NodePoolStatusAtProviderConfigAutoscalingMetricsCollection>,
    /// The ARN of the AWS KMS key used to encrypt node pool configuration.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "configEncryption")]
    #[builder(default)]
    pub config_encryption: Option<NodePoolStatusAtProviderConfigConfigEncryption>,
    /// The name of the AWS IAM role assigned to nodes in the pool.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "iamInstanceProfile")]
    #[builder(default)]
    pub iam_instance_profile: Option<String>,
    /// Optional. The AWS instance type. When unspecified, it defaults to m5.large.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "instanceType")]
    #[builder(default)]
    pub instance_type: Option<String>,
    /// Optional. The initial labels assigned to nodes of this node pool. An object containing a list of "key": value pairs. Example: { "name": "wrench", "mass": "1.3kg", "count": "3" }.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub labels: Option<HashMap<String, String>>,
    /// Proxy configuration for outbound HTTP(S) traffic.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "proxyConfig")]
    #[builder(default)]
    pub proxy_config: Option<NodePoolStatusAtProviderConfigProxyConfig>,
    /// Optional. Template for the root volume provisioned for node pool nodes. Volumes will be provisioned in the availability zone assigned to the node pool subnet. When unspecified, it defaults to 32 GiB with the GP2 volume type.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "rootVolume")]
    #[builder(default)]
    pub root_volume: Option<NodePoolStatusAtProviderConfigRootVolume>,
    /// Optional. The IDs of additional security groups to add to nodes in this pool. The manager will automatically create security groups with minimum rules needed for a functioning cluster.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "securityGroupIds")]
    #[builder(default)]
    pub security_group_ids: Option<Vec<String>>,
    /// Optional. The SSH configuration.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "sshConfig")]
    #[builder(default)]
    pub ssh_config: Option<NodePoolStatusAtProviderConfigSshConfig>,
    /// Optional. Key/value metadata to assign to each underlying AWS resource. Specify at most 50 pairs containing alphanumerics, spaces, and symbols (.+-=_:@/). Keys can be up to 127 Unicode characters. Values can be up to 255 Unicode characters.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub tags: Option<HashMap<String, String>>,
    /// Optional. The initial taints assigned to nodes of this node pool.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub taints: Option<Vec<NodePoolStatusAtProviderConfigTaints>>,
}

/// Optional. Configuration related to CloudWatch metrics collection on the Auto Scaling group of the node pool. When unspecified, metrics collection is disabled.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolStatusAtProviderConfigAutoscalingMetricsCollection {
    /// The frequency at which EC2 Auto Scaling sends aggregated data to AWS CloudWatch. The only valid value is "1Minute".
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub granularity: Option<String>,
    /// The metrics to enable. For a list of valid metrics, see https://docs.aws.amazon.com/autoscaling/ec2/APIReference/API_EnableMetricsCollection.html. If you specify granularity and don't specify any metrics, all metrics are enabled.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub metrics: Option<Vec<String>>,
}

/// The ARN of the AWS KMS key used to encrypt node pool configuration.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolStatusAtProviderConfigConfigEncryption {
    /// Optional. The Amazon Resource Name (ARN) of the Customer Managed Key (CMK) used to encrypt AWS EBS volumes. If not specified, the default Amazon managed key associated to the AWS region where this cluster runs will be used.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "kmsKeyArn")]
    #[builder(default)]
    pub kms_key_arn: Option<String>,
}

/// Proxy configuration for outbound HTTP(S) traffic.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolStatusAtProviderConfigProxyConfig {
    /// The ARN of the AWS Secret Manager secret that contains the HTTP(S) proxy configuration.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "secretArn")]
    #[builder(default)]
    pub secret_arn: Option<String>,
    /// The version string of the AWS Secret Manager secret that contains the HTTP(S) proxy configuration.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "secretVersion")]
    #[builder(default)]
    pub secret_version: Option<String>,
}

/// Optional. Template for the root volume provisioned for node pool nodes. Volumes will be provisioned in the availability zone assigned to the node pool subnet. When unspecified, it defaults to 32 GiB with the GP2 volume type.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolStatusAtProviderConfigRootVolume {
    /// Optional. The number of I/O operations per second (IOPS) to provision for GP3 volume.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub iops: Option<f64>,
    /// Optional. The Amazon Resource Name (ARN) of the Customer Managed Key (CMK) used to encrypt AWS EBS volumes. If not specified, the default Amazon managed key associated to the AWS region where this cluster runs will be used.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "kmsKeyArn")]
    #[builder(default)]
    pub kms_key_arn: Option<String>,
    /// Optional. The size of the volume, in GiBs. When unspecified, a default value is provided. See the specific reference in the parent resource.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "sizeGib")]
    #[builder(default)]
    pub size_gib: Option<f64>,
    /// Optional. The throughput to provision for the volume, in MiB/s. Only valid if the volume type is GP3. If volume type is gp3 and throughput is not specified, the throughput will defaults to 125.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub throughput: Option<f64>,
    /// Optional. Type of the EBS volume. When unspecified, it defaults to GP2 volume. Possible values: VOLUME_TYPE_UNSPECIFIED, GP2, GP3
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "volumeType")]
    #[builder(default)]
    pub volume_type: Option<String>,
}

/// Optional. The SSH configuration.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolStatusAtProviderConfigSshConfig {
    /// The name of the EC2 key pair used to login into cluster machines.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "ec2KeyPair")]
    #[builder(default)]
    pub ec2_key_pair: Option<String>,
}

#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolStatusAtProviderConfigTaints {
    /// The taint effect. Possible values: EFFECT_UNSPECIFIED, NO_SCHEDULE, PREFER_NO_SCHEDULE, NO_EXECUTE
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub effect: Option<String>,
    /// Key for the taint.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub key: Option<String>,
    /// Value for the taint.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    #[builder(default)]
    pub value: Option<String>,
}

/// The Management configuration for this node pool.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolStatusAtProviderManagement {
    /// Optional. Whether or not the nodes will be automatically repaired.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "autoRepair")]
    #[builder(default)]
    pub auto_repair: Option<bool>,
}

/// The constraint on the maximum number of pods that can be run simultaneously on a node in the node pool.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolStatusAtProviderMaxPodsConstraint {
    /// The maximum number of pods to schedule on a single node.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "maxPodsPerNode")]
    #[builder(default)]
    pub max_pods_per_node: Option<f64>,
}

/// Optional. Update settings control the speed and disruption of the node pool update.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolStatusAtProviderUpdateSettings {
    /// Optional. Settings for surge update.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "surgeSettings")]
    #[builder(default)]
    pub surge_settings: Option<NodePoolStatusAtProviderUpdateSettingsSurgeSettings>,
}

/// Optional. Settings for surge update.
#[derive(Serialize, Deserialize, Clone, Debug, TypedBuilder, JsonSchema)]
#[builder(field_defaults(setter(strip_option(ignore_invalid))))]
pub struct NodePoolStatusAtProviderUpdateSettingsSurgeSettings {
    /// Optional. The maximum number of nodes that can be created beyond the current size of the node pool during the update process.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "maxSurge")]
    #[builder(default)]
    pub max_surge: Option<f64>,
    /// Optional. The maximum number of nodes that can be simultaneously unavailable during the update process. A node is considered unavailable if its status is not Ready.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "maxUnavailable")]
    #[builder(default)]
    pub max_unavailable: Option<f64>,
}

